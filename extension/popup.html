<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Geolocation Spoofer</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <h1>🌍 Geolocation Spoofer</h1>
    
    <div class="status">
      <span id="status-text">Status: Disabled</span>
      <label class="switch">
        <input type="checkbox" id="toggle-spoof">
        <span class="slider"></span>
      </label>
    </div>

    <div class="form-group">
      <label for="location-name">Location Name:</label>
      <input type="text" id="location-name" placeholder="e.g., New York City">
    </div>

    <div class="form-group">
      <label for="latitude">Latitude:</label>
      <input type="number" id="latitude" placeholder="e.g., 40.7128" step="0.0001" min="-90" max="90">
    </div>

    <div class="form-group">
      <label for="longitude">Longitude:</label>
      <input type="number" id="longitude" placeholder="e.g., -74.0060" step="0.0001" min="-180" max="180">
    </div>

    <div class="form-group">
      <label for="accuracy">Accuracy (meters):</label>
      <input type="number" id="accuracy" placeholder="e.g., 10" value="10" min="1">
    </div>

    <div class="buttons">
      <button id="save-btn" class="btn btn-primary">Save Location</button>
      <button id="preset-btn" class="btn btn-secondary">Load Preset</button>
    </div>

    <div id="preset-list" class="preset-list hidden">
      <h3>Select a Preset Location:</h3>
      <div class="preset-item" data-lat="40.7128" data-lng="-74.0060" data-name="New York City">
        📍 New York City, USA
      </div>
      <div class="preset-item" data-lat="51.5074" data-lng="-0.1278" data-name="London">
        📍 London, UK
      </div>
      <div class="preset-item" data-lat="48.8566" data-lng="2.3522" data-name="Paris">
        📍 Paris, France
      </div>
      <div class="preset-item" data-lat="35.6762" data-lng="139.6503" data-name="Tokyo">
        📍 Tokyo, Japan
      </div>
      <div class="preset-item" data-lat="-33.8688" data-lng="151.2093" data-name="Sydney">
        📍 Sydney, Australia
      </div>
      <div class="preset-item" data-lat="37.7749" data-lng="-122.4194" data-name="San Francisco">
        📍 San Francisco, USA
      </div>
      <div class="preset-item" data-lat="25.2048" data-lng="55.2708" data-name="Dubai">
        📍 Dubai, UAE
      </div>
      <div class="preset-item" data-lat="-23.5505" data-lng="-46.6333" data-name="São Paulo">
        📍 São Paulo, Brazil
      </div>
    </div>

    <div class="current-location">
      <h3>Current Spoofed Location:</h3>
      <p id="current-info">No location set</p>
    </div>

    <!-- Camera Overlay Section -->
    <div class="camera-section">
      <h2>📷 Camera Overlay</h2>
      
      <div class="status">
        <span id="camera-status-text">Camera Overlay: Disabled</span>
        <label class="switch">
          <input type="checkbox" id="toggle-camera">
          <span class="slider"></span>
        </label>
      </div>

      <div class="form-group">
        <label for="photo-upload">Upload Photo:</label>
        <input type="file" id="photo-upload" accept="image/*">
        <div id="photo-preview" class="photo-preview hidden">
          <img id="preview-img" src="" alt="Preview">
          <button id="remove-photo" class="btn btn-danger">Remove Photo</button>
        </div>
      </div>

      <div class="form-group">
        <label for="camera-select">Camera Source:</label>
        <select id="camera-select" class="form-control">
          <option value="">Detect cameras...</option>
        </select>
        <button id="refresh-cameras" class="btn btn-secondary" style="margin-top: 5px;">🔄 Refresh Cameras</button>
      </div>

      <div class="form-group">
        <label for="overlay-opacity">Overlay Opacity:</label>
        <input type="range" id="overlay-opacity" min="0" max="100" value="100" class="slider-range">
        <span id="opacity-value">100%</span>
      </div>

      <div class="form-group">
        <label for="overlay-size">Overlay Size:</label>
        <input type="range" id="overlay-size" min="50" max="150" value="100" class="slider-range">
        <span id="size-value">100%</span>
      </div>

      <div class="form-group">
        <label for="overlay-position">Overlay Position:</label>
        <select id="overlay-position" class="form-control">
          <option value="center">Center</option>
          <option value="top-left">Top Left</option>
          <option value="top-right">Top Right</option>
          <option value="bottom-left">Bottom Left</option>
          <option value="bottom-right">Bottom Right</option>
        </select>
      </div>
    </div>

    <div class="footer">
      <p>⚠️ Refresh pages after changing settings</p>
      <button id="test-btn" class="btn btn-secondary" style="margin-top: 10px; width: 100%;">🧪 Open Test Page</button>
      <button id="camera-test-btn" class="btn btn-secondary" style="margin-top: 5px; width: 100%;">📷 Test Camera Overlay</button>
      <button id="iframe-test-btn" class="btn btn-secondary" style="margin-top: 5px; width: 100%;">🔲 Test Nested Iframes</button>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
